# TODO - –ó–∞–¥–∞—á–∏ –¥–ª—è –¥–æ—Ä–∞–±–æ—Ç–∫–∏

## üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è

### 1. BotPic –∏ Avatar –∫–æ–Ω—Ñ–ª–∏–∫—Ç
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ï—Å–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω BotPic, —Ç–æ –∞–≤–∞—Ç–∞—Ä–∫–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –Ω–∞ —Å—Ç–∞—Ä—Ç–æ–≤–æ–º —ç–∫—Ä–∞–Ω–µ (ChatStart). –ù—É–∂–Ω–æ —Ä–µ—à–∏—Ç—å –ª–æ–≥–∏–∫—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.

**–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è:**
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ BotPic, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å (–∞–≤–∞—Ç–∞—Ä–∫–∞ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è)
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ–±–∞, –Ω–æ –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö
- –î–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—ã–±–æ—Ä

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `src/components/preview/ChatStart.tsx`

---

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π Telegram –∫ —Ä–∞–∑–º–µ—Ä–∞–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π
**–û–ø–∏—Å–∞–Ω–∏–µ:** –£—Ç–æ—á–Ω–∏—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è Telegram –∫ —Ä–∞–∑–º–µ—Ä–∞–º BotPic –∏ Avatar. –í–æ–∑–º–æ–∂–Ω–æ, –¢–ì –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥—Ä—É–≥–∏–µ —Ä–∞–∑–º–µ—Ä—ã –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –ø—Ä–æ–ø–æ—Ä—Ü–∏–π (–Ω–µ —Ç–æ–ª—å–∫–æ —Ç–æ—á–Ω—ã–µ 640x360 –∏ 640x640).

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- Avatar: —Ç–æ—á–Ω–æ –ª–∏ –Ω—É–∂–µ–Ω –∫–≤–∞–¥—Ä–∞—Ç 640x640-4096x4096, –∏–ª–∏ –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ/–º–µ–Ω—å—à–µ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ 1:1?
- BotPic: —Ç–æ—á–Ω–æ –ª–∏ –Ω—É–∂–µ–Ω 640x360, –∏–ª–∏ –º–æ–∂–Ω–æ –¥—Ä—É–≥–∏–µ —Ä–∞–∑–º–µ—Ä—ã –ø—Ä–∏ 16:9?
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é Telegram Bot API

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):**
- `src/components/AvatarUpload.tsx`
- `src/components/BotPicUpload.tsx`

**–ò—Å—Ç–æ—á–Ω–∏–∫–∏:**
- https://core.telegram.org/bots/api#setuserpic
- https://core.telegram.org/bots/api#setdescriptionpicture

---

### 3. –û—á–∏—Å—Ç–∫–∞ IndexedDB —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–Ω–æ–ø–∫–∞ "–û—á–∏—Å—Ç–∏—Ç—å" —É–∂–µ —É–¥–∞–ª—è–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫ –∏–∑ IndexedDB (–≤—ã–∑—ã–≤–∞–µ—Ç `clearDraft()`). –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º.

**–ß—Ç–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:**
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–∞–ª–∏—á–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ —á–µ—Ä–Ω–æ–≤–∏–∫–∞
- –û—Ç–¥–µ–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ "–£–¥–∞–ª–∏—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫" (–Ω–µ –ø—É—Ç–∞—Ç—å —Å "–û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É")
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –µ—Å–ª–∏ —á–µ—Ä–Ω–æ–≤–∏–∫ —Å—Ç–∞—Ä—ã–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, > 7 –¥–Ω–µ–π)

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (debounced 2 —Å–µ–∫)
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ö–Ω–æ–ø–∫–∞ "–û—á–∏—Å—Ç–∏—Ç—å" —É–¥–∞–ª—è–µ—Ç –∏–∑ IndexedDB

**–§–∞–π–ª—ã:**
- `src/App.tsx` (lines 347-355 - –ª–æ–≥–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏)
- `src/utils/indexedDB.ts` (—Ñ—É–Ω–∫—Ü–∏—è `clearDraft()`)

---

## üìã –°–ª–µ–¥—É—é—â–∏–µ —ç—Ç–∞–ø—ã

### –≠—Ç–∞–ø 5: IndexedDB Persistence
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω
**–ó–∞–¥–∞—á–∏:**
- [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ IndexedDB
- [x] –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞ (debounced, 2 —Å–µ–∫)
- [x] –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- [x] –ó–∞—â–∏—Ç–∞ –æ—Ç race condition (isHydrating state)
- [x] –ö–Ω–æ–ø–∫–∞ "–û—á–∏—Å—Ç–∏—Ç—å" —É–¥–∞–ª—è–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫
- [x] Graceful degradation –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ IDB

### –≠—Ç–∞–ø 6: Export & Polish
**–°—Ç–∞—Ç—É—Å:** –ù–µ –Ω–∞—á–∞—Ç
**–ó–∞–¥–∞—á–∏:**
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è JSON –∏–∑ formData
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ ZIP-–∞—Ä—Ö–∏–≤–∞ (JSZip)
- [ ] –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ file-saver
- [ ] –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–¥ —ç–∫—Å–ø–æ—Ä—Ç–æ–º
- [ ] Loading states, –∞–Ω–∏–º–∞—Ü–∏–∏
- [ ] Error boundaries

# Architectural Decisions Record (ADR)

–ê—Ä—Ö–∏–≤ –ø—Ä–∏–Ω—è—Ç—ã—Ö —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ä–µ—à–µ–Ω–∏–π —Å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º.

---

## [2026-01-15] –í–∞–ª–∏–¥–∞—Ü–∏—è: useState + Zod (–±–µ–∑ React Hook Form)

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ù—É–∂–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–æ—Ç–∞. –†–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–ª–∏—Å—å –¥–≤–∞ –ø–æ–¥—Ö–æ–¥–∞:
1. React Hook Form + Zod
2. useState + Zod

**–ü—Ä–æ–±–ª–µ–º–∞:**
–§–æ—Ä–º–∞ —Å—Ç–∞—Ç–∏—á–Ω–∞ (–ø–æ–ª—è –Ω–µ –º–µ–Ω—è—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏). React Hook Form - —ç—Ç–æ overkill –¥–ª—è —Ç–∞–∫–æ–≥–æ –∫–µ–π—Å–∞?

**–†–µ—à–µ–Ω–∏–µ:**
–ò—Å–ø–æ–ª—å–∑—É–µ–º **useState –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ñ–æ—Ä–º—ã + Zod —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–æ–π —Å—Ö–µ–º—ã**.

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –§–æ—Ä–º–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –ø–æ–ª–µ–π (–Ω–µ –±—É–¥–µ—Ç —Ä–∞—Å—à–∏—Ä—è—Ç—å—Å—è)
- –ù–æ–≤—ã–µ –ø–æ–ª—è –Ω–µ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é—Ç—Å—è (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram –º–µ–Ω—è—é—Ç—Å—è —Ä–µ–¥–∫–æ)
- –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ø–∏—à–µ—Ç –∫–æ–¥ (–Ω–µ –Ω—É–∂–µ–Ω declarative –ø–æ–¥—Ö–æ–¥ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã)
- –£–ø—Ä–æ—â–µ–Ω–∏–µ: –º–µ–Ω—å—à–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π, –ø—Ä–æ—â–µ –¥–µ–±–∞–∂–∏—Ç—å
- –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω—É–∂–Ω–∞ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º —ç–∫—Å–ø–æ—Ä—Ç–µ (–Ω–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º onChange)

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:**
- ‚ùå React Hook Form - –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω–æ–π —Ñ–æ—Ä–º—ã
- ‚ùå Formik - —É—Å—Ç–∞—Ä–µ–≤—à–∏–π, –º–µ–¥–ª–µ–Ω–Ω–µ–µ
- ‚úÖ useState + Zod - –º–∏–Ω–∏–º–∞–ª–∏–∑–º, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –∑–∞–¥–∞—á–∏

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –ú–µ–Ω—å—à–µ boilerplate –∫–æ–¥–∞
- –ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å live preview (–ø—Ä—è–º–æ–π –∫–æ–Ω—Ç—Ä–æ–ª—å state)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Å—Ç–∞–µ—Ç—Å—è type-safe –±–ª–∞–≥–æ–¥–∞—Ä—è Zod

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- [src/schemas/botSettings.ts](../../src/schemas/botSettings.ts)
- [src/App.tsx](../../src/App.tsx)

---

## [2026-01-15] botName = Display Name (–ù–ï username)

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ü—É—Ç–∞–Ω–∏—Ü–∞ –º–µ–∂–¥—É –¥–≤—É–º—è –ø–æ–ª—è–º–∏ Telegram:
- **Username** (@example_bot) - –Ω–∏–∫–Ω–µ–π–º –±–æ—Ç–∞, –ª–∞—Ç–∏–Ω–∏—Ü–∞ + "_", –¥–æ–ª–∂–µ–Ω –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ "bot"
- **Display Name** ("–ú–æ–π –ë–æ—Ç ü§ñ") - –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è, –ª—é–±—ã–µ —Å–∏–º–≤–æ–ª—ã

**–ü—Ä–æ–±–ª–µ–º–∞:**
–ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç—Ä–µ–±–æ–≤–∞–ª–∞ –ª–∞—Ç–∏–Ω–∏—Ü—É –∏ —Å—É—Ñ—Ñ–∏–∫—Å "bot" –¥–ª—è –ø–æ–ª—è `botName`. –≠—Ç–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.

**–†–µ—à–µ–Ω–∏–µ:**
`botName` —Ö—Ä–∞–Ω–∏—Ç **Display Name**:
- –ö–æ–º–∞–Ω–¥–∞ BotFather: `/setname`
- –î–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã: **–ª—é–±—ã–µ** (–∫–∏—Ä–∏–ª–ª–∏—Ü–∞, —ç–º–æ–¥–∑–∏, –ø—Ä–æ–±–µ–ª—ã, —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã)
- –î–ª–∏–Ω–∞: 1-64 —Å–∏–º–≤–æ–ª–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è: —Ç–æ–ª—å–∫–æ –º–∏–Ω–∏–º—É–º –∏ –º–∞–∫—Å–∏–º—É–º –¥–ª–∏–Ω—ã

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- Username –∑–∞–¥–∞–µ—Ç—Å—è –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ BotFather, –º—ã –µ–≥–æ –Ω–µ —Ç—Ä–æ–≥–∞–µ–º
- Display Name - —ç—Ç–æ —Ç–æ, —á—Ç–æ –≤–∏–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- –ö–ª–∏–µ–Ω—Ç—ã —Ö–æ—Ç—è—Ç –≤–∏–¥–µ—Ç—å "–ü–æ–º–æ—â–Ω–∏–∫ –í—ã—Å—Ç–∞–≤–∫–∏ 2024 üéâ", –∞ –Ω–µ "exhibition_helper_2024_bot"

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤ `botSettingsSchema`
- –û–±–Ω–æ–≤–ª–µ–Ω—ã labels –≤ UI ("–ò–º—è –±–æ—Ç–∞ (Display Name)")
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è TDD

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- [src/schemas/botSettings.ts:15-17](../../src/schemas/botSettings.ts#L15-L17)
- [docs/TechnicalDesignDocument.md:281-283](../../docs/TechnicalDesignDocument.md#L281-L283)

---

## [2026-01-15] –í–∞–ª–∏–¥–∞—Ü–∏—è –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤–≤–æ–¥–∞

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª–∏–Ω—ã —Ç–µ–∫—Å—Ç–∞?

**–ü—Ä–æ–±–ª–µ–º–∞:**
–î–≤–∞ –ø–æ–¥—Ö–æ–¥–∞:
1. **–ñ–µ—Å—Ç–∫–∏–π** - `maxLength` –Ω–∞ input (–±–ª–æ–∫–∏—Ä—É–µ—Ç –≤–≤–æ–¥ –ø–æ—Å–ª–µ –ª–∏–º–∏—Ç–∞)
2. **–ú—è–≥–∫–∏–π** - —Ä–∞–∑—Ä–µ—à–∏—Ç—å –≤–≤–æ–¥, –Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å

**–†–µ—à–µ–Ω–∏–µ:**
–ò—Å–ø–æ–ª—å–∑—É–µ–º **`maxLength` + –≤–∏–∑—É–∞–ª—å–Ω—É—é –∏–Ω–¥–∏–∫–∞—Ü–∏—é**:
- Input –∏–º–µ–µ—Ç `maxLength` (–±—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤–≤–æ–¥ –±–æ–ª—å—à–µ –ª–∏–º–∏—Ç–∞)
- –°—á–µ—Ç—á–∏–∫ —Å–∏–º–≤–æ–ª–æ–≤ –º–µ–Ω—è–µ—Ç —Ü–≤–µ—Ç:
  - –°–µ—Ä—ã–π: 0-80% –ª–∏–º–∏—Ç–∞
  - –ñ–µ–ª—Ç—ã–π: 80-100% –ª–∏–º–∏—Ç–∞
  - –ö—Ä–∞—Å–Ω—ã–π: >100% (—Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º–æ –∏–∑-–∑–∞ maxLength)
- –ì—Ä–∞–Ω–∏—Ü–∞ input —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∫—Ä–∞—Å–Ω–æ–π –ø—Ä–∏ >100%

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–≤ TODO –∫–∞–∫ IDEA):**
- –£–±—Ä–∞—Ç—å `maxLength`
- –†–∞–∑—Ä–µ—à–∏—Ç—å –≤–≤–æ–¥ >–ª–∏–º–∏—Ç–∞
- –ñ–µ—Å—Ç—á–µ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—Ç—å –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ (–∫—Ä–∞—Å–Ω—ã–π —Ñ–æ–Ω, –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ)
- –ü–ª—é—Å: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç, –º–æ–∂–µ—Ç —Ä–µ—à–∏—Ç—å —á—Ç–æ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å
- –ú–∏–Ω—É—Å: –º–æ–∂–Ω–æ —Å–ª—É—á–∞–π–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ—à–µ–Ω–∏—è:**
- UX –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ - –Ω–µ–ª—å–∑—è –ø—Ä–µ–≤—ã—Å–∏—Ç—å –ª–∏–º–∏—Ç
- –ü—Ä–æ—â–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é HTML inputs

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- [src/App.tsx:17-28](../../src/App.tsx#L17-L28) - —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ü–≤–µ—Ç–æ–≤
- [TODO.md](../../TODO.md) - –∏–¥–µ—è –ø—Ä–æ —É–±–∏—Ä–∞–Ω–∏–µ maxLength

---

## [2026-01-15] Desktop-only + MobileBlocker

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ù—É–∂–Ω–æ –ª–∏ –¥–µ–ª–∞—Ç—å –º–æ–±–∏–ª—å–Ω—É—é –∞–¥–∞–ø—Ç–∞—Ü–∏—é?

**–†–µ—à–µ–Ω–∏–µ:**
**Desktop-only** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å MobileBlocker –¥–ª—è <1024px.

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –û—Å–Ω–æ–≤–Ω–æ–π use case: –∫–ª–∏–µ–Ω—Ç –∑–∞–ø–æ–ª–Ω—è–µ—Ç –Ω–∞ —Ä–∞–±–æ—á–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
- Drag & Drop —Ñ–∞–π–ª–æ–≤ —É–¥–æ–±–Ω–µ–µ –Ω–∞ desktop
- Split view (—Ñ–æ—Ä–º–∞ + preview) —Ç—Ä–µ–±—É–µ—Ç —à–∏—Ä–∏–Ω—ã —ç–∫—Ä–∞–Ω–∞
- –£–ø—Ä–æ—â–µ–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–æ–¥–∏–Ω layout)
- MobileBlocker –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–ª–æ—Ö–æ–π UX –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (Post-MVP):**
- Tabs layout –¥–ª—è –ø–ª–∞–Ω—à–µ—Ç–æ–≤: "–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ" | "–ü—Ä–µ–≤—å—é"

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- [src/components/MobileBlocker.tsx](../../src/components/MobileBlocker.tsx)
- [docs/TechnicalDesignDocument.md:139-198](../../docs/TechnicalDesignDocument.md#L139-L198)

---

## [2026-01-15] IndexedDB —á–µ—Ä–µ–∑ idb-keyval (–±—É–¥—É—â–µ–µ)

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–ö–∞–∫ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ?

**–†–µ—à–µ–Ω–∏–µ (–¥–ª—è –≠—Ç–∞–ø–∞ 5):**
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **IndexedDB** —á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `idb-keyval`.

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- localStorage –æ–≥—Ä–∞–Ω–∏—á–µ–Ω ~5MB, IndexedDB - –≥–∏–≥–∞–±–∞–π—Ç—ã
- localStorage –Ω–µ —Ö—Ä–∞–Ω–∏—Ç File/Blob –Ω–∞–ø—Ä—è–º—É—é (–Ω—É–∂–Ω–∞ base64 –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è +33% overhead)
- idb-keyval –¥–∞–µ—Ç API –∫–∞–∫ —É localStorage, –Ω–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤

**–í–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ IDB –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ (private mode –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å)
- Graceful degradation - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- `isHydrating` state –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è race condition –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- [docs/TechnicalDesignDocument.md:643-759](../../docs/TechnicalDesignDocument.md#L643-L759)

---

## –®–∞–±–ª–æ–Ω –¥–ª—è –Ω–æ–≤—ã—Ö —Ä–µ—à–µ–Ω–∏–π

```markdown
## [YYYY-MM-DD] –ö—Ä–∞—Ç–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
–û–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏, —Ç—Ä–µ–±—É—é—â–µ–π —Ä–µ—à–µ–Ω–∏—è.

**–ü—Ä–æ–±–ª–µ–º–∞:**
–ö–∞–∫–∞—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–∞–µ—Ç—Å—è?

**–†–µ—à–µ–Ω–∏–µ:**
–ß—Ç–æ —Ä–µ—à–∏–ª–∏ –¥–µ–ª–∞—Ç—å.

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –ü–æ—á–µ–º—É –≤—ã–±—Ä–∞–Ω —ç—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥
- –ö–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —ç—Ç–æ —Ä–µ—à–∞–µ—Ç
- –ö–∞–∫–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–∞–µ—Ç

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:**
- ‚ùå –í–∞—Ä–∏–∞–Ω—Ç 1 - –ø—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–∞–∑–∞
- ‚ùå –í–∞—Ä–∏–∞–Ω—Ç 2 - –ø—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–∞–∑–∞

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –ö–∞–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–≤–ª–µ–∫–ª–æ
- –ß—Ç–æ –Ω—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å –≤ –±—É–¥—É—â–µ–º

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- –°—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–¥ –∏–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã
```

@import "tailwindcss";

/* ============================================
   UTILITY ANIMATIONS
   ============================================ */

/* Loading spinner animation (used in index.html fallback) */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

/* Marquee animation for long bot names (special case) */
@keyframes marquee {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-50%);
  }
}

.animate-marquee {
  animation: marquee 8s linear infinite;
}

/* ============================================
   UNIFIED HIGHLIGHT SYSTEM
   Duration: 1.2s (300ms * 4 для плавности)
   Easing: ease-in-out
   GPU accelerated: will-change
   ============================================ */

/* Base pulse animation - используется для всех highlight */
@keyframes highlight-pulse {
  0%, 100% {
    box-shadow: var(--highlight-shadow-start);
  }
  50% {
    box-shadow: var(--highlight-shadow-peak);
  }
}

/* === PRIMARY HIGHLIGHTS (blue) === */
/* Для: botName, form fields при hover с превью */
.highlight-primary {
  --highlight-shadow-start: 0 0 0 3px rgba(59, 130, 246, 0.4), 0 0 12px rgba(59, 130, 246, 0.2);
  --highlight-shadow-peak: 0 0 0 5px rgba(59, 130, 246, 0.7), 0 0 20px rgba(59, 130, 246, 0.4);
  animation: highlight-pulse 1.2s ease-in-out infinite;
  will-change: box-shadow;
}

/* Glow вариант для текста - ФОНОВАЯ анимация (работает с overflow:hidden) */
.highlight-primary-glow {
  background: rgba(59, 130, 246, 0.4) !important;
  border-radius: 2px;
  transition: background 250ms ease-out, border-radius 250ms ease-out;
}

/* === SUCCESS HIGHLIGHTS (green) === */
/* Для: description field */
.highlight-success {
  --highlight-shadow-start: 0 0 0 3px rgba(34, 197, 94, 0.3), 0 0 12px rgba(34, 197, 94, 0.2);
  --highlight-shadow-peak: 0 0 0 5px rgba(34, 197, 94, 0.6), 0 0 20px rgba(34, 197, 94, 0.4);
  animation: highlight-pulse 1.2s ease-in-out infinite;
  will-change: box-shadow;
}

/* Background shimmer вариант для больших текстовых блоков */
.highlight-success-bg {
  background: linear-gradient(
    90deg,
    rgba(34, 197, 94, 0.1),
    rgba(34, 197, 94, 0.2),
    rgba(34, 197, 94, 0.1)
  );
  background-size: 200% 100%;
  animation: bg-shimmer 2s ease-in-out infinite;
  will-change: background-position;
}

@keyframes bg-shimmer {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* === WARNING HIGHLIGHTS (yellow) === */
/* Для: inline buttons, botPic */
.highlight-warning {
  --highlight-shadow-start: 0 0 0 3px rgba(250, 204, 21, 0.5), 0 0 12px rgba(250, 204, 21, 0.3);
  --highlight-shadow-peak: 0 0 0 5px rgba(250, 204, 21, 0.8), 0 0 20px rgba(250, 204, 21, 0.5);
  animation: highlight-pulse 1.2s ease-in-out infinite;
  will-change: box-shadow;
}

/* === INFO HIGHLIGHTS (cyan) === */
/* Для: avatar */
.highlight-info {
  --highlight-shadow-start: 0 0 0 3px rgba(6, 182, 212, 0.5), 0 0 12px rgba(6, 182, 212, 0.3);
  --highlight-shadow-peak: 0 0 0 5px rgba(6, 182, 212, 0.8), 0 0 20px rgba(6, 182, 212, 0.5);
  animation: highlight-pulse 1.2s ease-in-out infinite;
  will-change: box-shadow;
}

/* === ACCENT HIGHLIGHTS (indigo) === */
/* Для: form field highlight при hover с превью */
.highlight-accent {
  --highlight-shadow-start: 0 0 0 3px rgba(99, 102, 241, 0.4), 0 0 12px rgba(99, 102, 241, 0.2);
  --highlight-shadow-peak: 0 0 0 4px rgba(99, 102, 241, 0.7), 0 0 20px rgba(99, 102, 241, 0.4);
  animation: highlight-pulse 1.2s ease-in-out infinite;
  will-change: box-shadow;
}

/* === SPECIAL: Для полей с overflow:hidden === */
/* ТОЛЬКО фоновая анимация - box-shadow/outline обрезаются */
.highlight-accent-inner {
  /* ЯРКАЯ фоновая анимация - хорошо видна */
  background: linear-gradient(
    90deg,
    rgba(99, 102, 241, 0.15),
    rgba(99, 102, 241, 0.30),
    rgba(99, 102, 241, 0.15)
  ) !important;
  background-size: 200% 100% !important;
  animation: bg-shimmer-inner 1.5s ease-in-out infinite;
  will-change: background-position;
  transition: background 250ms ease-out, background-size 250ms ease-out;
}

@keyframes bg-shimmer-inner {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* === SPECIAL: Light text glow для темных фонов - ФОНОВАЯ анимация === */
.highlight-light {
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.2),
    rgba(255, 255, 255, 0.4),
    rgba(255, 255, 255, 0.2)
  ) !important;
  background-size: 200% 100% !important;
  animation: bg-shimmer-light 1.2s ease-in-out infinite;
  will-change: background-position;
  border-radius: 4px;
  padding: 2px 4px;
  margin: -2px -4px;
}

@keyframes bg-shimmer-light {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* ============================================
   LEGACY CLASS ALIASES (для обратной совместимости)
   Дублируем стили вместо @apply (Tailwind v4 ограничение)
   TODO: Постепенно заменить в компонентах на новые классы
   ============================================ */
.highlight-glow {
  background: linear-gradient(
    90deg,
    rgba(59, 130, 246, 0.2),
    rgba(59, 130, 246, 0.4),
    rgba(59, 130, 246, 0.2)
  ) !important;
  background-size: 200% 100% !important;
  animation: bg-shimmer-primary 1.2s ease-in-out infinite;
  will-change: background-position;
  border-radius: 4px;
  padding: 2px 4px;
  margin: -2px -4px;
}

.highlight-pulse-border {
  --highlight-shadow-start: 0 0 0 3px rgba(59, 130, 246, 0.4), 0 0 12px rgba(59, 130, 246, 0.2);
  --highlight-shadow-peak: 0 0 0 5px rgba(59, 130, 246, 0.7), 0 0 20px rgba(59, 130, 246, 0.4);
  animation: highlight-pulse 1.2s ease-in-out infinite;
  will-change: box-shadow;
}

.highlight-pulse-shadow {
  --highlight-shadow-start: 0 0 0 3px rgba(59, 130, 246, 0.4), 0 0 12px rgba(59, 130, 246, 0.2);
  --highlight-shadow-peak: 0 0 0 5px rgba(59, 130, 246, 0.7), 0 0 20px rgba(59, 130, 246, 0.4);
  animation: highlight-pulse 1.2s ease-in-out infinite;
  will-change: box-shadow;
}

.highlight-pulse-light {
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.2),
    rgba(255, 255, 255, 0.4),
    rgba(255, 255, 255, 0.2)
  ) !important;
  background-size: 200% 100% !important;
  animation: bg-shimmer-light 1.2s ease-in-out infinite;
  will-change: background-position;
  border-radius: 4px;
  padding: 2px 4px;
  margin: -2px -4px;
  transition: background 250ms ease-out, border-radius 250ms ease-out, padding 250ms ease-out, margin 250ms ease-out;
}

.highlight-bg {
  background: linear-gradient(
    90deg,
    rgba(34, 197, 94, 0.1),
    rgba(34, 197, 94, 0.2),
    rgba(34, 197, 94, 0.1)
  );
  background-size: 200% 100%;
  animation: bg-shimmer 2s ease-in-out infinite;
  will-change: background-position;
}

.highlight-avatar-pulse {
  --highlight-shadow-start: 0 0 0 4px rgba(250, 204, 21, 0.7), 0 0 16px rgba(250, 204, 21, 0.5);
  --highlight-shadow-peak: 0 0 0 6px rgba(250, 204, 21, 1.0), 0 0 24px rgba(250, 204, 21, 0.8);
  animation: highlight-pulse 1.2s ease-in-out infinite;
  will-change: box-shadow;
  transition: box-shadow 300ms ease-out;
}

.highlight-button-pulse {
  --highlight-shadow-start: 0 0 0 4px rgba(250, 204, 21, 0.7), 0 0 16px rgba(250, 204, 21, 0.5);
  --highlight-shadow-peak: 0 0 0 6px rgba(250, 204, 21, 1.0), 0 0 24px rgba(250, 204, 21, 0.8);
  animation: highlight-pulse 1.2s ease-in-out infinite;
  will-change: box-shadow;
  transition: box-shadow 300ms ease-out;
}

.highlight-pic-pulse {
  --highlight-shadow-start: 0 0 0 4px rgba(250, 204, 21, 0.7), 0 0 16px rgba(250, 204, 21, 0.5);
  --highlight-shadow-peak: 0 0 0 6px rgba(250, 204, 21, 1.0), 0 0 24px rgba(250, 204, 21, 0.8);
  animation: highlight-pulse 1.2s ease-in-out infinite;
  will-change: box-shadow;
  transition: box-shadow 300ms ease-out;
}

.highlight-form-field {
  --highlight-shadow-start: 0 0 0 3px rgba(99, 102, 241, 0.4), 0 0 12px rgba(99, 102, 241, 0.2);
  --highlight-shadow-peak: 0 0 0 4px rgba(99, 102, 241, 0.7), 0 0 20px rgba(99, 102, 241, 0.4);
  animation: highlight-pulse 1.2s ease-in-out infinite;
  will-change: box-shadow;
  transition: box-shadow 300ms ease-out;
}

/* ============================================
   INTERACTIVE STATES
   ============================================ */

/* Cursor pointer for editable preview elements */
.preview-editable {
  cursor: pointer;
  transition: all 200ms ease-out;
}

/* Лёгкая hover-подсветка при наведении на поля в превью */
.preview-editable:hover {
  box-shadow: inset 0 0 0 2px rgba(59, 130, 246, 0.3);
  border-radius: 4px;
}

/* ============================================
   BUTTON HOVER STATES
   Workaround for Tailwind v4 CSS nesting issue
   ============================================ */

/* Mode switcher buttons */
.btn-mode-inactive {
  transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-mode-inactive:hover {
  background-color: #dbeafe !important; /* blue-100 */
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1) !important;
  transform: scale(1.05) !important;
}

.btn-mode-active {
  transition: background-color 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-mode-active:hover {
  background-color: #3b82f6 !important; /* blue-500 */
}

/* Download button */
.btn-download {
  transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-download:hover {
  background-color: #22c55e !important; /* green-500 */
  box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1) !important;
  transform: scale(1.05) !important;
}

/* START button */
.btn-start {
  transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-start:hover {
  background-color: #4a7db0 !important;
  box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25) !important;
  transform: scale(1.1) !important;
}

/* Demo button */
.btn-demo {
  transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-demo:hover {
  background-color: #eff6ff !important; /* blue-50 */
  border-color: #60a5fa !important; /* blue-400 */
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1) !important;
  transform: scale(1.03) !important;
}

/* Clear button */
.btn-clear {
  transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-clear:hover {
  background-color: #f3f4f6 !important; /* gray-100 */
  border-color: #9ca3af !important; /* gray-400 */
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1) !important;
  transform: scale(1.03) !important;
}

/* Form input/textarea hover */
.form-input {
  transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

.form-input:hover {
  border-color: #60a5fa !important; /* blue-400 */
  background-color: #eff6ff !important; /* blue-50 */
  box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.15) !important;
}

/* Image upload zone hover */
.upload-zone {
  transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

.upload-zone:hover {
  border-color: #60a5fa !important; /* blue-400 */
  background-color: #eff6ff !important; /* blue-50 */
  box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.2) !important;
}

/* Image preview zone hover */
.upload-preview {
  transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

.upload-preview:hover {
  border-color: #60a5fa !important; /* blue-400 */
  background-color: #f8fafc !important; /* slate-50 */
  box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.15) !important;
}

/* Delete button in upload zones */
.btn-delete {
  transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-delete:hover {
  background-color: #fef2f2 !important; /* red-50 */
  color: #dc2626 !important; /* red-600 */
  transform: scale(1.05) !important;
}

/* Link hover in upload zones */
.link-preview {
  transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

.link-preview:hover {
  color: #2563eb !important; /* blue-600 */
  text-decoration: underline !important;
}

/* ============================================
   PREVIEW SCREEN TRANSITIONS
   ============================================ */

/* Fade-in animation for preview screens */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.preview-screen-enter {
  animation: fadeIn 300ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* FieldHelp content fade */
.field-help-content {
  animation: fadeIn 200ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
}
